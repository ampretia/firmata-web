<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, width=device-width, viewport-fit=cover"
    />
    <script type="importmap">
      {
        "imports": {
          "firmata-web/": "../../"
        }
      }
    </script>

    <title>Firmata Test</title>
    <style>
      @import url("../style.css");
    </style>
  </head>
  <body>
    <f-board></f-board>

    <script type="module">
      import "firmata-web/addons/f-board.js";
      import { Firmata, WebSerialTransport } from "firmata-web/lib/index.js";

      const baudRate = 57600; // Default Firmata baudrate
      const boardEl = document.querySelector("f-board");

      // boardEl.addEventListener("ready", (e) => {
      //   const app = e.detail[0]
      //   app.board.pins = [
      //     { supportedModes: [], value: 0, report: 1, analogChannel: 127 },
      //     { supportedModes: [], value: 0, report: 1, analogChannel: 127 },
      //   ];
      // });
      boardEl._instance.data.board.pins = [
        { supportedModes: [], value: 0, report: 1, analogChannel: 127 },
        { supportedModes: [], value: 0, report: 1, analogChannel: 127 },
      ];
    </script>
  </body>
</html>
